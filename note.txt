this code is very messy bc replit has a lot of errors like denying access to certain resources (and i have no clue why)